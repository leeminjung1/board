<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header" />
<body>
<div>
    <div th:replace="fragments/bodyHeader :: bodyHeader" />
    <div class="container">
        <div class="border rounded  p-4">
            <div class="mb-4 pb-4 border-bottom">
                <div class="ArticleTitle">
                    <a th:href="@{/{categoryId}/ (categoryId=${article.category?.id})}"
                       th:text="${article.category?.name}"></a>
                    <div class="mt-2">
                        <h3 th:text="${article.title}"></h3>
                    </div>
                </div>
                <div class="clearfix">
                    <a class="position-relative float-start me-3" th:href="@{/members/{memberId}/ (memberId=${article.author?.id})}">
                        <img th:src="'/images/' + ${article.author?.imgUrl}"
                             alt="프로필 사진"
                             width="40"
                             height="40"
                             th:if="${article.author?.imgUrl != null}" />
                    </a>
                    <div class="float-start">
                        <div class="mb-1">
                            <a class="fw-bold text-reset"
                               th:href="@{/members/{memberId}/ (memberId=${article.author?.id})}"
                               th:text="${article.author?.username}"></a>
                        </div>
                        <div class="text-secondary fw-light lh-sm" style="font-size:14px">
                            <span class="me-2" th:text="${#temporals.format(article.createdAt, 'yyyy.MM.dd. HH:mm')}"></span>
                            <span class="view_count" th:text="'조회 ' + ${article.viewCount}"></span>
                        </div>
                    </div>
                </div>
            </div>
            <article class="blog-post">
                <div th:utext="${article.content}">
                </div>
            </article>
        </div>
        <div class="clearfix pt-3">
            <div class="float-start">
                <button type="button" th:onclick="|location.href='@{/{categoryId}/new(categoryId=${categoryId})}'|" class="btn btn-primary">글쓰기</button>
                <button class="btn">수정</button>
                <form class="d-inline-block" action="#" th:action="@{/{categoryId}/v/{articleId} (categoryId=${article.category?.id},articleId=${article.id})}" th:method="DELETE" >
                    <button type="submit" class="btn">삭제</button>
                </form>
            </div>
            <div class="float-end">
            </div>
        </div>


    </div>
    <div th:replace="fragments/footer :: footer" />
</div> <!-- /container -->
</body>
</html>